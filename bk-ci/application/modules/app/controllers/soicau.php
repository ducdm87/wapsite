<?php

if (!defined('BASEPATH'))
    exit('No direct script access allowed');
require 'app' . EXT;

class soicau extends app {

    function __construct() {
        parent::__construct();
        $this->load->model('xs_statistics_model');

//        if (!isset($_GET['captcha'])) {
//            if (!isset($_SESSION['captcha' . $this->data['c_module'] . $this->data['c_func']]))
//                $_SESSION['captcha' . $this->data['c_module'] . $this->data['c_func']] = substr(str_shuffle('abcdefghijklmnopqrstuvwxyz0123456789'), 0, 5);
//            echo '<div style="display:none">' . json_encode(array('captcha' => $_SESSION['captcha' . $this->data['c_module'] . $this->data['c_func']])) . '</div>';
//            die;
//        }else {
//            $captcha = $_GET['captcha'];
//            if (!isset($_SESSION['captcha' . $this->data['c_module'] . $this->data['c_func']]) || $_SESSION['captcha' . $this->data['c_module'] . $this->data['c_func']] != $captcha) {
//                echo 'Nháº­p sai captcha!';
//                die;
//            }
//        }
    }

    function index() {
        $amplitude = (isset($_GET['so']) ? $_GET['so'] : 5);
        $lid = (isset($_GET['tinh']) ? (int) $_GET['tinh'] : 1);

        if ($amplitude <= 2 || $amplitude > 15)
            $amplitude = 5;

        if ($lid == 0)
            die;

        $area = 'MB';
        $lname = '';
        foreach ($this->data['xs_location_menu'] as $value) {
            if ($lid == $value->id) {
                $lname = $value->name;
                $area = $value->area;
                break;
            }
        }
        $this->data['area'] = $area;
        $this->data['lname'] = $lname;

        $this->data['items'] = $this->xs_statistics_model->getItemsDetectLotto($amplitude, $lid);


//        var lifetime = new Array(3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,9,9,11);  
//        var valuelt = new Array('00','02','02','04','07','10','11','11','11','12','12','13','13','14','14','14','14','14','14','15','15','15','15','16','16','16','16','17','17','17','18','18','18','19','20','20','21','21','21','21','22','22','22','22','23','24','24','24','24','25','26','26','27','28','28','28','28','31','31','32','32','32','32','32','32','34','34','35','36','38','39','41','41','41','42','42','42','42','42','42','42','43','43','44','44','44','44','44','45','45','46','46','46','46','47','47','47','49','49','50','50','50','50','50','51','51','51','52','52','52','52','52','53','53','54','54','54','55','55','55','55','55','55','56','56','56','56','57','58','59','60','60','61','61','61','61','62','62','63','64','65','65','67','68','68','68','72','72','74','75','75','78','79','80','81','82','82','82','84','84','84','85','85','85','86','87','89','89','91','91','92','92','94','94','95','96','99','99','99','00','01','02','02','04','04','05','09','12','12','13','13','14','14','17','19','19','21','22','22','22','23','23','24','24','24','26','28','28','29','29','29','31','32','32','32','32','32','33','34','34','34','34','34','35','35','37','38','39','41','41','41','41','42','42','42','42','43','44','44','44','45','46','47','48','49','49','50','51','52','52','52','52','53','54','54','55','55','55','55','59','59','59','60','61','61','62','62','63','63','64','64','65','65','66','69','71','72','74','78','79','79','79','81','81','81','82','82','84','84','88','89','91','92','92','94','94','95','99','02','12','12','13','13','14','15','15','18','21','23','29','29','30','30','32','35','38','39','42','42','43','43','44','45','46','48','49','52','52','52','53','54','54','58','58','59','62','62','63','73','73','77','77','91','98','01','03','09','12','20','34','37','39','40','40','41','41','42','46','46','50','52','54','67','80','83','84','92','94','11','22','23','41','55','55','62','78','84','19','42','47');  
//        var positionOne = new Array(47,12,12,12,12,83,2,14,14,14,67,14,30,2,14,32,63,63,83,14,31,32,33,2,14,30,32,14,30,83,14,30,32,63,69,75,34,34,34,75,10,34,34,75,34,34,34,34,90,34,34,69,34,10,34,36,69,16,42,16,23,23,42,48,48,16,23,16,23,16,16,40,52,57,40,40,44,52,57,57,94,52,52,28,28,44,94,99,44,71,13,28,93,99,13,40,44,44,57,9,24,26,41,64,25,26,80,9,24,26,80,100,24,25,26,26,26,9,25,26,26,39,41,9,26,26,53,53,9,41,20,22,20,43,43,82,17,43,43,17,20,79,21,17,20,21,11,45,45,4,4,46,4,78,35,1,38,38,38,38,38,38,38,38,78,1,38,78,58,95,6,68,6,6,55,6,55,55,56,12,12,12,47,12,12,98,47,27,27,30,32,30,63,2,2,27,70,69,75,90,62,69,69,91,102,10,34,62,34,34,36,66,16,16,16,42,66,66,16,16,42,66,66,16,16,66,76,23,7,7,13,40,28,52,65,93,57,7,13,44,13,13,7,71,7,94,9,64,3,9,26,64,26,9,53,3,9,9,53,3,64,80,79,20,43,20,22,20,54,17,20,20,43,20,20,46,87,45,46,11,19,45,1,38,78,38,78,35,38,1,38,56,55,56,55,58,55,58,88,2,74,32,63,2,14,32,63,102,10,90,92,42,76,81,42,42,48,7,13,7,65,13,52,65,52,44,39,41,53,41,41,41,25,39,18,20,82,20,46,46,19,45,55,15,47,12,47,63,34,42,23,85,13,65,51,57,7,44,57,53,41,41,43,38,38,38,55,95,27,92,69,7,18,41,20,4,38,32,7,7);  
//        var positionTwo = new Array(98,69,102,52,87,88,30,67,83,91,75,23,48,99,44,71,94,104,99,26,41,39,41,21,107,43,79,19,45,89,106,78,38,68,98,98,67,74,105,83,34,36,70,91,73,44,51,94,99,64,107,79,89,38,106,38,78,33,105,69,34,92,92,90,92,40,61,41,82,78,55,63,83,101,62,69,92,91,62,92,102,66,81,52,57,61,99,104,80,80,82,43,107,107,89,46,46,55,58,12,98,88,88,98,105,72,83,69,102,75,91,102,66,66,52,61,71,100,26,39,80,80,100,22,54,82,82,89,78,103,88,98,72,63,83,83,69,62,81,52,41,80,45,78,38,38,34,90,57,26,41,78,55,98,63,69,70,75,52,57,71,39,64,80,79,46,103,95,63,105,69,92,52,57,100,43,56,103,95,98,72,96,102,93,99,100,55,34,102,66,42,40,77,46,56,55,101,102,102,102,66,76,71,99,104,20,35,78,56,58,55,101,36,75,102,69,69,81,52,84,65,93,99,18,64,87,78,56,30,101,14,101,69,69,102,102,81,93,99,51,80,43,87,78,56,95,47,101,102,75,96,102,76,65,99,41,24,64,80,55,95,103,88,32,101,70,102,42,66,40,65,26,53,21,68,67,102,99,106,95,56,56,30,72,101,96,102,44,40,38,68,63,75,102,94,99,64,95,91,90,102,76,66,57,53,41,78,105,42,95,103,88,88,102,80,78,56,92,75,81,76,52,53,79,78,58,69,75,75,85,65,84,78,78,103,36,91,76,48,66,46,46,74,38,63,42,95,90,47,93,46,103,88,98,101,63,62,82,107,88,92,59,46,88,76,44,70,104,63,102,81,63,41,80,92,38,99,103,90,46);  
//        var A18082013 = new Array('8','1','5','7','7','9','4','7','5','2','7','0','4','1','9','3','6','5','7','6','6','6','3','5','5','5','1','4','7','1','1','1','1','2','8','2','0','8','5','4','5','3','6','4','7','7','0','3','7','4','4','4','5','6','9','9','4','9','4','0','4','2','1','5','4','3','1','9','2','2','4','1','3','1','2','3','4','8','6','5','3','6','1','4','3','6','7','0','7','2','2','2','4','4','9','2','6','0','4','5','1','2','9','4','1','8','6');  
//        var A17082013 = new Array('1','6','8','0','2','6','4','9','4','8','8','1','6','7','0','2','6','5','6','2','8','8','1','0','1','4','9','6','9','7','0','7','8','4','9','8','4','4','1','7','4','4','7','1','6','7','3','6','6','4','9','7','6','0','4','3','5','5','8','1','9','1','1','5','8','4','2','5','7','9','1','9','0','0','8','2','9','7','6','3','2','3','6','8','9','0','9','8','8','5','6','5','9','5','6','3','7','4','5','0','1','4','1','5','3','2','2');  
//        var A16082013 = new Array('4','5','9','0','6','8','4','9','4','2','9','5','6','0','3','9','8','7','7','2','3','8','0','8','3','6','9','8','5','8','7','2','7','0','9','0','5','6','3','4','0','3','4','0','5','9','9','4','0','9','0','4','6','4','7','9','4','9','7','3','2','8','5','1','6','5','7','3','5','0','3','3','9','9','1','3','8','5','3','2','8','2','6','7','7','4','8','2','2','8','6','6','5','9','4','3','1','4','4','9','9','4','0','8','6','7','9');  
//        var A15082013 = new Array('2','5','7','7','1','0','5','1','7','6','5','9','6','8','9','7','7','9','5','4','6','9','5','4','8','2','3','0','1','8','7','9','4','8','5','2','1','4','7','2','9','4','5','6','5','8','2','5','1','1','5','4','6','8','4','6','6','5','7','1','8','8','8','2','9','3','3','3','4','3','7','7','5','3','4','7','5','2','7','4','0','8','6','9','7','5','0','4','5','6','3','0','0','3','8','7','1','7','0','9','8','4','9','3','3','5','5');  
//        var A14082013 = new Array('4','0','1','3','2','9','8','7','7','6','1','3','5','2','3','7','9','5','8','7','1','7','2','2','2','2','8','1','4','9','3','6','3','6','5','0','6','3','6','4','7','5','2','3','5','7','8','5','9','8','4','2','5','4','7','7','0','5','6','1','0','1','0','6','5','8','2','5','7','6','1','9','4','0','6','5','7','7','3','6','8','9','2','8','5','9','6','3','1','0','3','1','5','2','7','5','3','3','4','3','5','8','7','6','9','6','0');  
//        var A13082013 = new Array('8','5','3','6','8','3','6','3','8','3','3','9','9','2','9','2','4','5','6','1','3','2','9','3','4','9','1','0','7','6','7','4','0','7','2','0','0','4','5','8','6','4','0','5','1','5','6','3','8','2','5','4','3','7','8','2','7','1','5','2','2','7','5','1','4','1','5','4','8','7','1','2','6','7','4','0','2','3','5','9','9','7','2','7','4','9','8','5','6','4','8','5','3','3','9','2','1','0','3','3','3','8','3','6','9','2','5');  
//        var A12082013 = new Array('8','1','4','8','4','9','8','9','2','0','9','6','1','9','9','7','3','8','4','7','4','1','3','8','5','0','2','1','0','1','2','5','3','7','5','5','4','3','5','4','6','4','7','3','1','2','6','2','3','9','9','0','9','5','2','0','8','6','7','7','2','5','7','7','2','0','7','5','9','9','3','1','4','4','3','0','6','7','4','4','4','7','9','3','6','0','4','4','8','3','4','8','9','8','9','6','9','9','2','1','7','7','1','6','0','5','5');  
//        var A11082013 = new Array('9','4','1','9','8','4','1','2','0','0','5','7','5','5','8','1','6','7','3','3','4','5','7','8','9','3','6','5','3','8','6','2','6','0','1','9','1','6','4','7','1','0','2','2','4','3','0','6','9','0','0','3','5','4','5','1','3','0','4','4','7','6','7','4','7','5','1','4','5','1','4','9','3','1','0','6','0','5','4','3','7','2','8','7','3','9','8','1','3','3','5','1','8','3','3','9','3','9','0','5','5','3','5','6','9','5','0');  
//        var A10082013 = new Array('2','0','6','6','9','3','3','4','3','8','9','8','5','0','0','6','9','8','8','9','1','6','7','7','2','7','2','9','6','4','2','3','7','5','5','8','5','4','3','9','2','7','1','9','0','1','5','1','8','3','0','9','4','5','3','2','8','2','7','1','1','6','6','4','2','5','2','9','3','2','2','0','0','5','8','3','5','3','7','6','2','4','5','3','8','5','8','8','8','3','8','2','3','2','7','3','7','3','3','9','4','2','5','5','8','8','5');  
//        var A09082013 = new Array('1','8','9','6','1','5','3','9','9','5','2','4','6','1','5','4','8','8','6','5','4','0','6','4','3','5','0','7','3','4','6','1','7','9','1','4','7','5','8','2','7','8','2','4','6','8','3','0','9','5','6','0','4','8','8','8','1','6','6','8','9','7','5','0','5','3','3','6','0','4','7','7','1','4','1','8','7','9','9','1','1','2','0','1','8','9','5','0','4','9','7','6','0','1','5','3','3','2','7','9','1','3','6','4','8','9','2');  
//        var A08082013 = new Array('8','4','9','7','2','9','3','6','4','4','9','3','5','7','9','7','9','6','9','0','1','3','2','1','8','6','1','6','7','0','9','8','6','0','4','1','2','8','9','3','0','6','2','9','2','5','4','8','3','9','9','0','2','2','6','3','2','2','8','2','3','9','1','6','3','1','7','7','5','0','6','7','6','2','0','3','5','6','7','8','7','4','5','8','1','9','4','5','8','1','3','2','0','4','3','1','1','2','7','3','2','2','5','4','0','0','2');  
//        var A07082013 = new Array('3','8','9','0','6','5','2','0','0','5','6','5','4','5','9','0','1','0','4','8','3','2','6','4','6','8','0','4','7','1','8','8','7','4','4','9','7','7','3','3','1','6','0','7','5','2','9','9','5','1','6','0','5','8','4','9','2','2','3','3','1','0','2','4','2','4','3','6','0','2','3','7','4','0','8','7','2','5','2','2','1','7','2','3','8','7','4','1','5','0','0','3','8','3','5','3','2','2','9','8','7','6','8','1','1','3','3');  
//        var A06082013 = new Array('6','1','7','5','5','6','6','0','3','3','7','5','0','9','4','5','0','7','2','4','1','5','5','7','2','5','5','0','0','9','8','8','8','9','6','9','5','9','2','5','5','5','0','6','7','3','1','8','2','1','2','3','4','3','3','2','6','2','0','8','2','4','0','3','9','6','7','0','5','8','6','9','2','1','3','3','7','8','1','5','7','2','6','7','4','1','6','2','3','4','9','4','7','5','4','5','6','0','2','1','3','2','3','9','1','4','2');  
//        var A05082013 = new Array('9','9','9','5','1','1','1','8','8','7','1','3','4','6','5','2','7','8','6','1','5','2','8','8','0','5','7','3','3','4','9','1','8','0','4','5','2','5','3','4','7','6','5','0','6','4','4','9','2','5','8','7','0','0','3','6','9','9','0','8','5','0','9','8','1','6','9','5','9','0','4','9','1','5','5','5','8','3','8','0','0','3','8','9','5','2','2','7','2','1','8','1','5','3','5','2','5','3','6','2','2','9','3','9','0','1','7');  
//        var A04082013 = new Array('1','8','0','8','9','1','6','0','0','9','6','7','4','3','7','1','8','3','3','3','5','1','9','8','4','6','9','3','0','9','2','5','0','4','3','2','4','4','0','5','5','0','2','6','9','2','3','1','4','0','1','8','0','6','5','7','0','9','4','7','5','5','4','1','8','1','7','4','6','6','1','7','9','6','3','8','8','2','7','6','8','6','5','2','2','2','7','9','1','5','1','4','5','4','9','6','5','9','3','6','8','1','3','5','1','7','4');  
//        var A03082013 = new Array('2','2','5','3','7','3','7','7','2','0','1','1','4','9','9','7','5','3','0','3','3','1','3','0','0','6','7','2','4','2','5','5','9','3','5','9','4','0','3','7','0','1','1','3','7','2','8','5','6','3','0','3','8','1','3','3','8','3','4','1','3','5','1','8','9','1','6','0','2','2','4','2','8','4','8','6','3','2','5','8','4','9','7','9','9','2','4','2','5','3','4','1','7','4','7','3','0','6','4','1','9','0','3','7','8','1','8');
//         
//        var Aloto = new Array(0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,1,2,0,1,2,0,1,2,1,2,1,2,1,2,1,2); //MB
//        var Aloto = new Array(1,2,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2);//MT        
//        var Aloto = new Array(1,2,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,1,2,0,0,0,0,1,2); //MN

        $this->data['lid'] = $lid;
        $this->data['amplitude'] = $amplitude;
        $this->data["tmpl"] = "soicau/index";
        $this->load->view("layout/index", $this->data);
    }

    function bachthu() {
        $amplitude = (isset($_GET['so']) ? $_GET['so'] : 5);
        if ($amplitude <= 2 || $amplitude > 15)
            $amplitude = 5;

        $this->data['items'] = $this->xs_statistics_model->getItemsDetectOnlyLotto($amplitude, 1);

        $this->data['amplitude'] = $amplitude;
        $this->data["tmpl"] = "soicau/bachthu";
        $this->load->view("layout/index", $this->data);
    }

}